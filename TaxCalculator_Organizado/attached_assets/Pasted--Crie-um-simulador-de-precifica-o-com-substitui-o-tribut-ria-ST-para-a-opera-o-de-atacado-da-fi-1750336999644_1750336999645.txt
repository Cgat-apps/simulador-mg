
Crie um simulador de precificaÃ§Ã£o com substituiÃ§Ã£o tributÃ¡ria (ST) para a operaÃ§Ã£o de atacado da filial MG. O simulador deve ser moderno, funcional e organizado por seÃ§Ãµes visuais (em cartÃµes ou abas), com interface intuitiva e pronta para uso por equipes comerciais.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”· SEÃ‡ÃƒO 1 â€“ DADOS DE COMPRA (Card 1)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Campos de entrada:
- Custo de Compra (R$)
- IPI Compra (%) 
- ICMS Compra (%) 
- PIS/COFINS Compra (%)
- Frete (%) â€“ calculado com base no custo de compra

â• Todos os campos devem ser numÃ©ricos, com preenchimento validado.  
â• Usar layout em colunas, com agrupamento claro de impostos e frete.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”· SEÃ‡ÃƒO 2 â€“ CÃLCULO DO CMV (Card 2)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Campos calculados automaticamente:
- Valor do IPI (R$)
- Valor do ICMS Compra (R$)
- Valor do PIS/COFINS Compra (R$)
- Valor do Frete (R$)
- **CMV Final = Custo de Compra + IPI - ICMS Compra - PIS/COFINS Compra + Frete**

â¡ Destaque visual para o **CMV Final** (cartÃ£o azul claro ou destaque numÃ©rico)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”· SEÃ‡ÃƒO 3 â€“ IMPOSTOS E MARGENS DE VENDA (Card 3)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Entradas:
- ICMS Venda (%)
- PIS/COFINS Venda (%)
- DevoluÃ§Ã£o (%) â€“ valor padrÃ£o sugerido: 0,5%
- Margem Bruta (%)
- Flex (%)
- MVA (%) â€“ zero se nÃ£o houver

â• SeleÃ§Ã£o da **CondiÃ§Ã£o de Pagamento** via dropdown. Aplicar fator automaticamente com base na tabela abaixo:

ğŸ“Š **Tabela de Fatores:**
Ã€ Vista: 1,0053 | 7 Dias: 1,0057 | 14 Dias: 1,0115 | 21 Dias: 1,0173  
30 Dias: 1,0250 | 45 Dias (Martcon): 1,0264 | 60 Dias: 1,0496  
30/60 Dias: 1,0534 | 20/40/60 Dias (Martcon): 1,0234  
30/60/90 Dias (Martcon): 1,0353 | 14/21/28 Dias: 1,0174  
20/40 Dias (Martcon): 1,0250

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”· SEÃ‡ÃƒO 4 â€“ RESULTADOS DA PRECIFICAÃ‡ÃƒO (Card 4)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
CÃ¡lculos automÃ¡ticos:

- **PreÃ§o sem ST =**  
  (CMV Final Ã·  
  ((1 - ICMS Venda - (1 - ICMS Venda) Ã— PIS/COFINS Venda - DevoluÃ§Ã£o) Ã—  
  (1 - Margem Bruta) Ã—  
  (1 - Flex))) Ã— Fator CondiÃ§Ã£o

- **Base ST =** PreÃ§o sem ST Ã— (1 + MVA)  
- **ST DÃ©bito =** Base ST Ã— ICMS Venda  
- **ST CrÃ©dito =** PreÃ§o sem ST Ã— ICMS Venda  
- **Valor ST =** ST DÃ©bito - ST CrÃ©dito  
- **PreÃ§o com ST =** PreÃ§o sem ST + Valor ST  
- **PreÃ§o com ST - FLEX =** PreÃ§o com ST - (PreÃ§o com ST Ã— Flex)  
- **Markup =** (PreÃ§o com ST - FLEX Ã· Custo de Compra) - 1

ğŸ“˜ Os seguintes campos devem ser exibidos em **cards visuais destacados**:
- PreÃ§o sem ST
- PreÃ§o com ST
- PreÃ§o com ST - FLEX
- Markup

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”· SEÃ‡ÃƒO 5 â€“ SIMULADOR REVERSO (Card 5 ou aba separada)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TÃ­tulo: ğŸ¯ **Simulador Reverso â€“ Partindo de PreÃ§o Alvo**

Entrada principal:
- **PreÃ§o Alvo (R$)** â†’ representa o **valor de venda final desejado**, jÃ¡ considerando:
  - SubstituiÃ§Ã£o TributÃ¡ria (ST)
  - Desconto do Flex

ğŸŸ© Ou seja: **PreÃ§o Alvo = PreÃ§o com ST - FLEX**

ğŸ“¥ Ao preencher o preÃ§o alvo, usar os dados da simulaÃ§Ã£o principal automaticamente (IPI, ICMS, frete, margens, condiÃ§Ã£o, etc.) para calcular:

- **Custo de Compra Ideal (R$)**
- **Margem Bruta Ideal (%)**
- **Markup do PreÃ§o Alvo (%)** = (PreÃ§o Alvo Ã· Custo de Compra) - 1

ğŸ“ **FÃ³rmula de Margem Bruta Ideal:**


Margem Bruta Ideal =
1 - \[
CMV Final Ã·
(PreÃ§o Alvo Ã· Fator CondiÃ§Ã£o Ã· (1 - Flex)) Ã·
(1 - ICMS Venda - (1 - ICMS Venda) Ã— PIS/COFINS Venda - DevoluÃ§Ã£o)
]



Os resultados devem ser exibidos em cartÃµes destacados semelhantes Ã  simulaÃ§Ã£o direta.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”· SEÃ‡ÃƒO 6 â€“ EXPORTAÃ‡ÃƒO
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Adicionar botÃ£o â€œğŸ“¤ Exportar SimulaÃ§Ã£oâ€ visÃ­vel nas duas seÃ§Ãµes (direta e reversa).  
Permitir ao usuÃ¡rio:

- Gerar **PDF (.pdf)** ou **Excel (.xlsx)** com os seguintes dados:
  - Entradas preenchidas
  - Todos os cÃ¡lculos intermediÃ¡rios
  - Resultados finais (com e sem ST, com e sem FLEX, markup, preÃ§o alvo, etc.)

O arquivo gerado deve ser visualmente organizado, com tÃ­tulos e divisÃ£o em blocos.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”· LAYOUT VISUAL E USABILIDADE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- Dividir o simulador em **seÃ§Ãµes visuais ou cartÃµes**
- Usar layout em **colunas organizadas**
- Campos de entrada: fundo branco
- Campos calculados: fundo cinza ou travados
- Cards de resultados: fundo azul claro ou verde claro, com bordas suaves
- AtualizaÃ§Ã£o automÃ¡tica de resultados
- BotÃµes bem localizados e fÃ¡ceis de acessar
- TÃ­tulos com Ã­cones para facilitar leitura (ex: ğŸ§® CMV, ğŸ¯ PreÃ§o Alvo)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Com esse simulador, o usuÃ¡rio poderÃ¡ realizar simulaÃ§Ãµes de venda com ST completas e tambÃ©m simulaÃ§Ãµes reversas para encontrar o custo ideal, margem ideal ou markup necessÃ¡rio a partir de um preÃ§o alvo.
